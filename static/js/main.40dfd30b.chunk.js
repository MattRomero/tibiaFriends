(this.webpackJsonptibiafriends=this.webpackJsonptibiafriends||[]).push([[0],{25:function(e,a,t){e.exports=t(43)},31:function(e,a,t){},43:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(11),l=t.n(c),i=(t(30),t(31),t(21)),s=t(7),o=t(22),h=t(2),u=t.n(h),v=t(12),d=t(13),m=t(23),f=t(14),p=t(24),E=t(15),k=t.n(E),x=t(19),C=t(17),b=t(18);function g(e){var a,t,r,c=e.char.rank,l=Math.round(e.char.level/3*2),i=Math.round(e.char.level/2*3);c<=3&&(a=1==c?"goldenrod":2==c?"silver":"#b87333",t=n.a.createElement(C.a,{icon:b.a,color:a}));var s={index:e.index,name:e.char.name,level:e.char.level,minLevelShare:l,maxLevelShare:i};return e.activeChar?r="table-info":e.char.level>=e.activeMinLevelShare&&e.char.level<=e.activeMaxLevelShare&&(r="table-warning"),n.a.createElement("tr",{onClick:function(){e.clickChar(s)},className:r},n.a.createElement("td",null,e.char.rank),n.a.createElement("td",null,e.char.name," ",t),n.a.createElement("td",null,e.char.level),n.a.createElement("td",{className:"online"===e.char.status?"text-success":"text-danger"},e.char.status),n.a.createElement("td",null,l," -"," ",i))}function w(e){return e.loading?n.a.createElement(k.a,{size:50,color:"#343a40",loading:e.loading}):n.a.createElement(x.a,{bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",null,"#"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Level"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Sharing levels"))),n.a.createElement("tbody",null,e.charList.map((function(a,t){return n.a.createElement(g,{char:a,clickChar:e.clickChar,index:t,key:t,activeChar:t==e.activeChar.index,activeMaxLevelShare:e.activeChar.maxLevelShare,activeMinLevelShare:e.activeChar.minLevelShare})}))))}var y=function(e){function a(e){var t;return Object(v.a)(this,a),(t=Object(m.a)(this,Object(f.a)(a).call(this,e))).loadChars=function(e){var a;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a=[],r.next=3,u.a.awrap(S(e,(function(e){var r;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(t.getChar(e));case 2:r=n.sent,a=a.concat(r);case 4:case"end":return n.stop()}}))})));case 3:return a.sort((function(e,a){return a.level-e.level})),a=t.rankChars(a),r.abrupt("return",a);case 6:case"end":return r.stop()}}))},t.getChar=function(e){var a,t,r;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a="https://api.tibiadata.com/v2/characters/".concat(e,".json"),n.next=3,u.a.awrap(fetch(a));case 3:return t=n.sent,n.next=6,u.a.awrap(t.json());case 6:return r=n.sent,n.abrupt("return",r.characters.data);case 8:case"end":return n.stop()}}))},t.rankChars=function(e){var a=e[0].level,t=1,r=!0,n=!1,c=void 0;try{for(var l,i=e.entries()[Symbol.iterator]();!(r=(l=i.next()).done);r=!0){var s=l.value,h=Object(o.a)(s,2),u=h[0],v=h[1];v.level<a&&(t=u+1,a=v.level),e[u].rank=t}}catch(d){n=!0,c=d}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return e},t.clickChar=function(e){t.setState({activeChar:e})},t.state={chars2:["Radagatsio"],chars:["Radagatsio","Ardillon","Dimitrij+del+Toro","King+Nakio","Loko+Zwisky","Sweetbullet","Roluhnx","Cropolito","Stwuee","Zapatilla+the+Cat","Archer del Yoda","Loko+Kenos","Borgolito","Rolo+Manyin","Sousi+Taro","Ardillon+the+Great","Gordo+Vegano","Eldermake"],charList:[],loading:!0,activeChar:!1},t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(this.loadChars(this.state.chars));case 2:e=a.sent,this.setState({charList:e,loading:!1});case 4:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){return n.a.createElement(w,{loading:this.state.loading,clickChar:this.clickChar,charList:this.state.charList,activeChar:this.state.activeChar})}}]),a}(n.a.Component);function S(e,a){var t;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t=0;case 1:if(!(t<e.length)){r.next=7;break}return r.next=4,u.a.awrap(a(e[t],t,e));case 4:t++,r.next=1;break;case 7:case"end":return r.stop()}}))}var L=document.getElementById("root");l.a.render(n.a.createElement((function(){return n.a.createElement(i.a,null,n.a.createElement(s.a,null,n.a.createElement("h1",null,"Tibia ranking")),n.a.createElement(s.a,{className:"align-items-center"},n.a.createElement("span",{className:"dot"}),"Sharing partners"),n.a.createElement(s.a,null,n.a.createElement(y,null)))}),null),L)}},[[25,1,2]]]);
//# sourceMappingURL=main.40dfd30b.chunk.js.map