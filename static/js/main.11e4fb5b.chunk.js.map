{"version":3,"sources":["components/char.js","components/charList.js","components/rank.js","index.js"],"names":["Char","props","trophyColor","podium","status","rank","char","minLevelShare","Math","round","maxLevelShare","icon","faTrophy","color","index","name","level","activeChar","activeMinLevelShare","activeMaxLevelShare","onClick","clickChar","className","CharList","loading","size","Table","bordered","hover","charList","map","objectChar","key","Rank","loadChars","a","async","chars","state","asyncForEach","getChar","charInfo","concat","sort","b","rankChars","setState","previousLevel","entries","clickedChar","chars2","this","React","Component","targetUrl","fetch","blob","json","data","array","callback","length","rootElement","document","getElementById","ReactDOM","render","Container","Row"],"mappings":"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","file":"static/js/main.11e4fb5b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrophy } from '@fortawesome/free-solid-svg-icons';\r\n\r\n// Component of a row representing a Char\r\nexport function Char(props) {\r\n  let rank = props.char[\"rank\"];\r\n  let minLevelShare = Math.round((props.char[\"level\"] / 3) * 2);\r\n  let maxLevelShare = Math.round((props.char[\"level\"] / 2) * 3);\r\n  \r\n  let trophyColor, podium, status;\r\n\r\n  if (rank <= 3) {\r\n    if (rank == 1) { trophyColor = \"goldenrod\" }\r\n    else if (rank == 2) { trophyColor = \"silver\" }\r\n    else { trophyColor = \"#b87333\" }\r\n    podium = <FontAwesomeIcon icon={faTrophy} color={trophyColor} />;\r\n  }\r\n\r\n  let char = {\r\n    index: props.index,\r\n    name: props.char[\"name\"], \r\n    level: props.char[\"level\"],\r\n    minLevelShare: minLevelShare,\r\n    maxLevelShare: maxLevelShare,\r\n  }\r\n\r\n  if (props.activeChar) { status = \"table-info\" }\r\n  else if (props.char[\"level\"] >= props.activeMinLevelShare && props.char[\"level\"] <= props.activeMaxLevelShare) {\r\n    status = \"table-warning\"\r\n  }\r\n\r\n  return (\r\n    <tr onClick={() => { props.clickChar(char) }} className={status} >\r\n\r\n      <td>{props.char[\"rank\"]}</td>\r\n      <td>{props.char[\"name\"]} {podium}</td>\r\n      <td>{props.char[\"level\"]}</td>\r\n      <td className={props.char[\"status\"] === \"online\" ? \"text-success\" : \"text-danger\"}>{props.char[\"status\"]}</td>\r\n      <td>\r\n        {minLevelShare} -{\" \"}\r\n        {maxLevelShare}\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport HashLoader from \"react-spinners/HashLoader\";\r\nimport Table from \"react-bootstrap/Table\";\r\n\r\nimport { Char } from \"../components/char\";\r\n\r\n// Component of the table of chars, while (props.loading === true) it shows\r\n// a spinner\r\n\r\nexport function CharList(props) {\r\n  if (props.loading) {\r\n    return <HashLoader size={50} color={\"#343a40\"} loading={props.loading} />;\r\n  } else {\r\n    return (\r\n      <Table bordered hover size=\"sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th>#</th>\r\n            <th>Name</th>\r\n            <th>Level</th>\r\n            <th>Status</th>\r\n            <th>Sharing levels</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {props.charList.map((objectChar, index) => (\r\n            <Char char={objectChar}\r\n              clickChar={props.clickChar}\r\n              index={index}\r\n              key={index}\r\n              activeChar={index == props.activeChar.index ? true : false}\r\n              activeMaxLevelShare={props.activeChar.maxLevelShare}\r\n              activeMinLevelShare={props.activeChar.minLevelShare}\r\n            />\r\n          ))}\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { CharList } from \"../components/charList\";\r\n\r\nexport class Rank extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      chars2: [\"Radagatsio\"],\r\n      chars: [\r\n        \"Radagatsio\",\r\n        \"Ardillon\",\r\n        \"Dimitrij+del+Toro\",\r\n        \"King+Nakio\",\r\n        \"Loko+Zwisky\",\r\n        \"Sweetbullet\",\r\n        \"Roluhnx\",\r\n        \"Cropolito\",\r\n        \"Stwuee\",\r\n        \"Zapatilla+the+Cat\",\r\n        \"Archer del Yoda\",\r\n        \"Loko+Kenos\",\r\n        \"Borgolito\",\r\n        \"Rolo+Manyin\",\r\n        \"Sousi+Taro\",\r\n        \"Ardillon+the+Great\"\r\n      ],\r\n      charList: [],\r\n      loading: true,\r\n      activeChar: false,\r\n    };\r\n  }\r\n  \r\n  loadChars = async () => {\r\n    let chars = this.state.chars;\r\n    let charList = [];\r\n    await asyncForEach(chars, async char => {\r\n      let charInfo = await getChar(char);\r\n      charList = charList.concat(charInfo);\r\n    });\r\n    charList.sort((a, b) => b.level - a.level);\r\n    charList = this.rankChars(charList);\r\n    this.setState({ charList: charList, loading: false });\r\n  }\r\n\r\n  // Method that adds a char's rank in the already sorted array, comparing each lvl with \r\n  // the one from previous char.\r\n  rankChars = (charList) => {\r\n    let previousLevel = charList[0]['level'];\r\n    let rank = 1;\r\n    for (let [index,char] of charList.entries()) {\r\n      if (char['level'] < previousLevel) { rank = index+1; previousLevel = char['level']; }\r\n      charList[index][\"rank\"] = rank;\r\n    }\r\n    return charList;\r\n  }\r\n\r\n  clickChar = (clickedChar) => {\r\n    this.setState({ activeChar: clickedChar })\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.loadChars();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <CharList loading={this.state.loading} clickChar={this.clickChar} charList={this.state.charList} activeChar={this.state.activeChar} />\r\n    );\r\n  }\r\n}\r\n\r\n\r\nasync function getChar(name) {\r\n  let targetUrl = `https://api.tibiadata.com/v2/characters/${name}.json`;\r\n  let blob = await fetch(targetUrl);\r\n  let data = await blob.json();\r\n  return data[\"characters\"][\"data\"];\r\n}\r\n\r\nasync function asyncForEach(array, callback) {\r\n  for (let index = 0; index < array.length; index++) {\r\n    await callback(array[index], index, array);\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport \"./styles.css\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\n\nimport { Rank } from \"./components/rank\";\n\n// <Image src=\"https://cdn1.iconfinder.com/data/icons/game-design-butterscotch-vol-1/256/Leader-512.png\" fluid/>\nfunction App() {\n  return (\n    <Container>\n      <Row>\n        <h1>Tibia ranking</h1>\n      </Row>\n      <Row className=\"align-items-center\">\n       <span className=\"dot\"></span>Sharing partners\n      </Row>\n      <Row>\n        <Rank />\n      </Row>\n    </Container>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}